<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Linduino: EasySMU.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="Linduino.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Linduino.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Linduino
   &#160;<span id="projectnumber">1.2.4</span>
   </div>
   <div id="projectbrief">Linear Technology Arduino-Compatible Demonstration Board</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('EasySMU_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">EasySMU.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="EasySMU_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">Class Library Header File for EasySMU: I2C Address Translator Demonstration and a Simple Multi-Channel Source Measurement Unit</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">[User Guide](http://www.linear.com/docs/58670 &quot;EasySMU User Guide&quot;) \n</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">[Schematic](http://www.linear.com/docs/58671 &quot;Schematic&quot;) \n</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">[Top-Level Linduino Firmware for EasySMU](file:EasySMU__Run_8ino.html &quot;Top-Level Linduino Firmware for EasySMU&quot;) \n</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">[EasySMU Class Reference](file:classEasySMU.html &quot;EasySMU Class Reference&quot;) \n</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">[EasySMU_IOpanel Class Reference](file:classEasySMU__IOpanel.html &quot;EasySMU_IOpanel Class Reference&quot;) \n</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">[EasySMU Webpage](http://www.linear.com/solutions/7943 &quot;EasySMU Webpage&quot;) \n</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">@verbatim</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">EasySMU: I2C Address Translator Demonstration and a Simple Multi-Channel Source Measurement Unit</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">LTC4316: Single I2C/SMBus Address Translator</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">LT1970A: Power Op Amp with Adjustable Precision Current Limit</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">LT5400:  Quad Matched Resistor Network</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">LTC2655: Quad I2C 16-/12-Bit Rail-to-Rail DACs with 10ppm/°C Max Reference</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">LTC3265: Low Noise Dual Supply with Boost and Inverting Charge Pumps</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">LTC2051: Dual Zero-Drift Operational Amplifier</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">LT3010:  50mA, 3V to 80V Low Dropout Micropower Linear Regulator</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">LT1991:  Precision, 100µA Gain Selectable Amplifier</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">LTC6655: 0.25ppm Noise, Low Drift Precision Reference</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">LTC2485: 24-Bit ΔΣ ADC with Easy Drive Input Current Cancellation and I2C Interface</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">EasySMU is a single-channel ±12V/40mA programmable-voltage/programmable-current</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">source with accurate voltage/current measurement capability. The LTC4316 I2C</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">Address Translator enables up to eight independent EasySMUs to be controlled</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">by a single I2C master.</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">In this demonstration, each EasySMU board contains four I2C slaves and the</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">associated components to implement a single-channel ±12V/40mA programmable-</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">voltage/programmable-current source. The LTC4316 translates the I2C addresses</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">of each EasySMU to a unique set of addresses, enabling up to eight EasySMU</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">boards to be stacked on a single Linduino (I2C master). In this form, it</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">resembles a multi-channel automated test system. Alternatively, an optional</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">touchscreen allows the user to interactively control up to four channels,</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">forming a compact multi-channel programmable-voltage/programmable-current</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">bench source for lab testing, powered from a single 12V AC wall adapter.</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">The primary purpose of the EasySMU is to demonstrate the LTC4316 I2C Address</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">Translator. The programmable-voltage/programmable-current source and meter</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">also provide a convenient demonstration of the associated components: LT1970A,</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">LT5400-3, LTC2655-H, LTC3265, LTC2051, LT3010, LT1991, LTC6655, and LTC2485.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">While the EasySMU is not designed to demonstrate the ultimate performance that</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">can be obtained from each of those components, the EasySMU does provide</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">impressive results from a reasonably simple circuit.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">@endverbatim</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">/*! @file</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">@ingroup EasySMU</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">Class Library Header File for EasySMU: I2C Address Translator Demonstration and a Simple Multi-Channel Source Measurement Unit</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#ifndef EasySMU_h</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#define EasySMU_h</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;Arduino.h&quot;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LTC2655_8h.html">LTC2655.h</a>&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LTC2485_8h.html">LTC2485.h</a>&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="QuikEval__EEPROM_8h.html">QuikEval_EEPROM.h</a>&quot;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">//!ID string written to EasySMU EEPROM. Value that will be returned by *IDN? serial command.</span></div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a88b484fdf9399d67a155e0ea58911f47">   67</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define _EASYSMU_ID_STRING &quot;Linear Technology, EasySMU-1.01 DC2591A&quot;</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">//Constants used to specify channel</span><span class="comment"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">//! @name Channel name used as index in EasySMU array</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">//! @{</span></div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a49a81d8f3e948550f22fcb5fce09208e">   72</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define _CH0 0</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#ad9232331da2de8582f92141113103ad1">   73</a></span>&#160;<span class="preprocessor">#define _CH1 1</span></div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a2c5654a27ba4b24419c4d6caf66fd12c">   74</a></span>&#160;<span class="preprocessor">#define _CH2 2</span></div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#ac1ef427047b194a79a390c2e9994021c">   75</a></span>&#160;<span class="preprocessor">#define _CH3 3</span></div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a92b7247fcadfd7a100309e0949b9c41d">   76</a></span>&#160;<span class="preprocessor">#define _CH4 4</span></div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a0ce51054f1a5c2088816dbd01af47098">   77</a></span>&#160;<span class="preprocessor">#define _CH5 5</span></div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a755801f3f2f978dd008247f8db916a7e">   78</a></span>&#160;<span class="preprocessor">#define _CH6 6</span></div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#aa6336372952af68ac764fac133b7341b">   79</a></span>&#160;<span class="preprocessor">#define _CH7 7</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">//! @}</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">//! @name DAC channel name (LTC2655 is a four channel DAC).</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">//! @{</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">//!Channel A of the DAC is configures the output voltage.</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a503f2bea5d4934f873625894c98780de">   85</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define _EASYSMU_VOLTAGE_DAC LTC2655_DAC_A</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">//!Channel B of the DAC configures the maximum pullup current</span></div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a5ca7f603f7bcd368453b22833362537e">   87</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define _EASYSMU_CURRENT_PULLUP_DAC LTC2655_DAC_B</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">//!Channel C of the DAC configures the maximum pulldown current.</span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#ab152cc424ecca2c0e98fe69b8bad90a2">   89</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define _EASYSMU_CURRENT_PULLDOWN_DAC LTC2655_DAC_C</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">//!Channel D of the DAC is used to enable or disable the LTC1970&#39;s output. It is essentially used as a binary output here.</span></div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a10efe60895df37f27437febc4d66b7f4">   91</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define _EASYSMU_ENABLE_OUTPUT_DAC LTC2655_DAC_D</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">//! @}</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">//! @name ADC conversion times.</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">//! @{</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">//! LTC2485 ADC conversion time in milliseconds (1X mode)</span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a78b466cd77a414348e07962a05bdf848">   97</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define _LTC2485_CONVERSION_TIME_1X 150</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">//! LTC2485 ADC conversion time in milliseconds (2X mode)</span></div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a7df905b3c0b986b96df9274cdbff20aa">   99</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define _LTC2485_CONVERSION_TIME_2X 75</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">//! Use 1X mode conversion time for EasySMU conversions</span></div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#ae49be65e3222a8bd057e17458afc27c5">  101</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define _LTC2485_CONVERSION_TIME _LTC2485_CONVERSION_TIME_1X</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">//! @}</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">//! A backup version of the factory calibration is stored at this address. Factory calibration may be recovered from here to override a user calibration.</span></div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a62a7ad326eb6278773075629892ce6dc">  105</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define EEPROM_FACTORY_CAL_STATUS_ADDRESS EEPROM_CAL_STATUS_ADDRESS+sizeof(eeprom_data_union)</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">//! Channel ID information returned by *IDN? command</span></div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a9b72196a97ca45bc88b3097b7c340745">  107</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define EEPROM_FACTORY_CAL_INFO_ADDRESS EEPROM_FACTORY_CAL_STATUS_ADDRESS+sizeof(eeprom_data_union)</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">//! @name Used as a parameter to functions where source, sink, or both is specified.</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">//! @{</span></div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#aacadd1dc93f63ca07c06a8f99af8fed8">  111</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define _SOURCE_ONLY 1</span></div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a4e4f42c39cd99f9bd582c3dfbdd276ad">  112</a></span>&#160;<span class="preprocessor">#define _SOURCE_AND_SINK 0</span></div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#aee08b92e4e3c49a3daa90035da521c84">  113</a></span>&#160;<span class="preprocessor">#define _SINK_ONLY -1</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">//! @}</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">//! Defines length of the calibartion info string (serial number) which is stored in the EEPROM</span></div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="EasySMU_8h.html#a9c45fb8df8f48b6ac3f4151b59ab8cf6">  117</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define CAL_INFO_STRLEN 32</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">/*!The EasySMU class contains functions for interacting with the EasySMU source measurement unit.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">At a higher level (Top-Level Linduino Firmware), this EasySMU class is stored in an eight element array. Each element of the array</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">contains data for one channel, allowing one Linduino to control up to eight EasySMU shields.</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">[User Guide](http://www.linear.com/docs/58670 &quot;EasySMU User Guide&quot;) \n</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">[Schematic](http://www.linear.com/docs/58671 &quot;Schematic&quot;) \n</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">[Top-Level Linduino Firmware for EasySMU](file:EasySMU__Run_8ino.html &quot;Top-Level Linduino Firmware for EasySMU&quot;) \n</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">[EasySMU Class Reference](file:classEasySMU.html &quot;EasySMU Class Reference&quot;) \n</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">[EasySMU_IOpanel Class Reference](file:classEasySMU__IOpanel.html &quot;EasySMU_IOpanel Class Reference&quot;) \n</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">[EasySMU Webpage](http://www.linear.com/solutions/7943 &quot;EasySMU Webpage&quot;) \n</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classEasySMU.html">  130</a></span>&#160;<span class="keyword">class </span><a class="code" href="classEasySMU.html">EasySMU</a></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="classEasySMU.html#a077df24bb9ed54fd910dc91022837515">  136</a></span>&#160;    int8_t <a class="code" href="classEasySMU.html#a077df24bb9ed54fd910dc91022837515">present_</a>;                     <span class="comment">//!&lt; Indicates if this channel is present. (Useful when the EasySMU class is stored in an array where not every possible channel is populated.)</span></div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classEasySMU.html#ad7b575834643715b7876c9624b6b1795">  137</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="classEasySMU.html#ad7b575834643715b7876c9624b6b1795">EasySMU_EEPROM_I2C_address_</a>; <span class="comment">//!&lt; I2C address of the EEPROM that stores calibration data</span></div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classEasySMU.html#a123474465ade261722c3173c1e0335de">  138</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="classEasySMU.html#a123474465ade261722c3173c1e0335de">DAC_I2C_address_</a>;            <span class="comment">//!&lt; I2C address of LTC2655 used to control voltage and current settings</span></div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classEasySMU.html#a838df41e4ffc062cce7b09613e7f6b88">  139</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="classEasySMU.html#a838df41e4ffc062cce7b09613e7f6b88">ADC_Vsense_I2C_address_</a>;     <span class="comment">//!&lt; I2C address of LTC2485 used to measure output voltage</span></div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="classEasySMU.html#add5db29d8563ba3f4a2eaf6763bd9f8f">  140</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="classEasySMU.html#add5db29d8563ba3f4a2eaf6763bd9f8f">ADC_Isense_I2C_address_</a>;     <span class="comment">//!&lt; I2C address of LTC2485 used to measure output current</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classEasySMU.html#aac3b0d5f50cf8c10ba608409e3dd1347">  142</a></span>&#160;    int32_t <a class="code" href="classEasySMU.html#aac3b0d5f50cf8c10ba608409e3dd1347">Vadc_code_</a>,                  <span class="comment">//!&lt; raw code of voltage ADC</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"></span>            <a class="code" href="classEasySMU.html#ad035228f18abbef36257cecae4b2e39a">Iadc_code_</a>;                  <span class="comment">//!&lt; raw code of current ADC</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="classEasySMU.html#a6fdb949fc00e8b85d21faeee9a3b2097">  145</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="classEasySMU.html#a6fdb949fc00e8b85d21faeee9a3b2097">flt_measured_voltage_</a>,         <span class="comment">//!&lt; measured voltage (in volts)</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"></span>          <a class="code" href="classEasySMU.html#a06adb1cc4cff8d6eccdec1a176ef6347">flt_measured_current_</a>;         <span class="comment">//!&lt; measured current (in amps)</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classEasySMU.html#a98d98afaebd73cd627ac27ef37a2cbeb">  148</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="classEasySMU.html#a98d98afaebd73cd627ac27ef37a2cbeb">flt_temperature_of_Vadc_</a>,                  <span class="comment">//!&lt; Temperature of voltage ADC</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment"></span>          <a class="code" href="classEasySMU.html#ace02ee6db1a4b59bb503226b3cdf8006">flt_temperature_of_Iadc_</a>;                  <span class="comment">//!&lt; current output setting (float)</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classEasySMU.html#aefd871c3744230f3537d34dfd6955584">  151</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="classEasySMU.html#aefd871c3744230f3537d34dfd6955584">float_current_source_setting_</a>; <span class="comment">//!&lt; Current source setting. (The output does not change immediately upon updating this value. It must be &quot;committed&quot; first.)</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classEasySMU.html#aa551de05fb7c2eef569c2f6bdc01eb0a">  153</a></span>&#160;    uint16_t <a class="code" href="classEasySMU.html#aa551de05fb7c2eef569c2f6bdc01eb0a">Vdac_code_</a>,                 <span class="comment">//!&lt; raw code of voltage DAC</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"></span>             <a class="code" href="classEasySMU.html#a742fb1acc6d6572bd06c4b458712df34">Idac_pullup_code_</a>,          <span class="comment">//!&lt; raw code of current pullup DAC</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment"></span>             <a class="code" href="classEasySMU.html#a7c88f342d0577ace3761bacac8a9da9f">Idac_pulldown_code_</a>;        <span class="comment">//!&lt; raw code of current pulldown DAC</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classEasySMU.html#a0e362e99c8d686ae2bd0b93bb86c88c2">ResetCalibration</a>();             <span class="comment">//!&lt; Reset the calibration to a typical value. Rarely used, as it is not factory calibration, but instead, a typical value.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"></span>    int8_t <a class="code" href="classEasySMU.html#a7d1157b764cda7875ffeed03fce47630">SetCalibration</a>();             <span class="comment">//!&lt; Perform calibration. Configures various voltage or current settings and prompts for value measured from accurate lab-grade multimeter.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">    //! Configure a voltage and current setting and prompt for measurement from lab-grade multimeter. Only used during calibration procedures.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">    //! @return Presently, only returns 0</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"></span>    int8_t <a class="code" href="classEasySMU.html#ae85572a552064773e5a4e394c5686201">SetCalibrationSinglePoint</a>(uint16_t voltageSetValue, <span class="comment">//!&lt; code to load into voltage DAC</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"></span>                                     uint16_t currentSetValue, <span class="comment">//!&lt; code to load into current DAC</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"></span>                                     <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="DC934A_8ino.html#ad84e19307a43d3f799a4daeef0a6484a">prompt</a>[], <span class="comment">//!&lt; prompt to user during calibration.</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span>                                     <span class="keywordtype">float</span> *fltUserOutput, <span class="comment">//!&lt; value entered by user</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"></span>                                     int32_t *lngVadc_code, <span class="comment">//!&lt; code read from voltage ADC</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"></span>                                     int32_t *lngIadc_code <span class="comment">//!&lt; code read from current ADC</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"></span>                                    );</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">    //! Check if this EasySMU is present. (Useful when the EasySMU class is stored in an array where not every possible channel is populated.)</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">    //! @return 1 if present. 0 if not present.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment"></span>    int16_t <a class="code" href="classEasySMU.html#ad94717730c6d000ef90a6c784a863736">IsPresent</a>();</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">    //! Read calibration from EEPROM. This normally runs during power-up to restore all offset, LSB size, etc. calibration values.</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">    //! @return 0=success, 1=failure</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"></span>    int16_t <a class="code" href="classEasySMU.html#aa1140809e4c13f9b73116fc92dd7d8f2">ReadCalibration</a>();</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">    //! Write calibration to EEPROM. This is normally run once at the factory after calibration is performed.</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">    //! @return 0=success, 1=failure</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment"></span>    int16_t <a class="code" href="classEasySMU.html#a2b2a889a0be35d5c75b8f45bd9bfca4e">WriteCalibration</a>();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">    //! FOR FACTORY USE ONLY! Write calibration to factory calibration section of EEPROM.</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">    //! When the EasySMU leaves the factory, the &quot;calibration&quot; and &quot;factory calibration&quot; sections of the EEPROM are the same. This allows factory calibration to be restored in case the user recalibrates the EasySMU.</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">    //! @return 0=success, 1=failure</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"></span>    int16_t <a class="code" href="classEasySMU.html#a7f902cbe6e60b61b3168f4369677f261">WriteFactoryCalibration</a>();</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">    //! Write factory calibration info to EEPROM. This is the string returned by the *IDN? serial command.</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">    //! @return 0=success, 1=failure</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"></span>    int16_t <a class="code" href="classEasySMU.html#a48d390781050d9a207a566f24170d428">WriteFactoryCalibrationInfo</a>(<span class="keywordtype">char</span> *buffer <span class="comment">//!&lt; string to be written into the calibration information section of the EEPROM. This is an information string, not calibration data. It is returned by the *IDN? serial command.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"></span>                                       );</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">    //! Prints the factory calibration info from EEPROM to the serial port. This is the string returned by the *IDN? serial command.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">    //! @return 0=success, 1=failure</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"></span>    int16_t <a class="code" href="classEasySMU.html#a85e94ebdc2aa414deeb106237ddc1e1c">PrintFactoryCalibrationInfo</a>();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">    //! Restore factory calibration from the EEPROM. This is used in case the user has overwritten the calibration.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">    //! @return 0=success, 1=failure</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="classEasySMU.html#a0f3a77adb8e03d646a78992beeb3cbf9">RestoreFactoryCalibration</a>();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">    //! Commit the voltage source setting. The DAC that sets the output voltage is loaded with the value in Vdac_code_, and the output changes immediately.</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">    //! (Other functions such as codeStepVoltageSourceSetting, etc. update the screen but do not actually change the output.)</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">    //! @return 0=success, 1=failure</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"></span>    int8_t <a class="code" href="classEasySMU.html#a3ab3aa0df93465a8d36e7d9c2bf17eb1">CommitVoltageSourceSetting</a>();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">    //! Set and commit the voltage source setting immediately.</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">    //! The DAC that sets the output voltage is loaded with a raw code and the output voltage changes immediately.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">    //! (Vdac_code_ holds a copy of the raw code.)</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">    //! @return 0=success, 1=failure</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment"></span>    int8_t <a class="code" href="classEasySMU.html#aba54f3edbb9c989804b62e9ebed04871">codeSetCommitVoltageSource</a>(int32_t lngVoltageSetParam <span class="comment">//!&lt; the code written to the voltage DAC (and Vdac_code_)</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment"></span>                                     );<span class="comment"></span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">    //! Increase or decrease the voltage source setting. Updates the screen but does not actually change the output. This gives the user time to see (and optionally modify) the value before it is driven at the output.</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">    //! (Vdac_code_ is modified but not written to DAC yet.)</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">    //! @return none</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classEasySMU.html#ad57ea2e2e1a6f771af977d7188d960ba">codeStepVoltageSourceSetting</a>(int16_t stepSize <span class="comment">//!&lt; increment the voltage DAC by this amount (raw code of step size)</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"></span>                                     );</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">    //! Commit the voltage source setting immediately to this float value.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">    //! The DAC that sets the output voltage is loaded with a code based on the scaled version of fVoltage and the output changes immediately.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">    //! (Idac_pullup_code_ and Idac_pulldown_code_ are updated also. Note that other functions such as codeStepCurrentSourceSetting, etc. update the screen but do not actually change the output.)</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">    //! @return 0=success, 1=failure</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"></span>    int8_t <a class="code" href="classEasySMU.html#af82ff1cb799ca79745f6f0fb4d207720">fltSetCommitVoltageSource</a>(<span class="keywordtype">float</span> fVoltage <span class="comment">//!&lt; the voltage to driven at the output</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"></span>                                    );<span class="comment"></span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">    //! Read the voltage source setting</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">    //! @return voltage source setting in volts</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="classEasySMU.html#a6f219b99d0041afc07a8f6a646b94df1">fltReadVoltageSourceSetting</a>();</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">    //! Commit the current source setting. The DACs that set pullup and pulldown current are loaded with the values from Idac_pullup_code_ and Idac_pulldown_code_, and the output changes immediately.</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">    //! (Other functions such as codeStepCurrentSourceSetting, etc. update the screen but do not actually change the output.)</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">    //! @return 0=success, 1=failure</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"></span>    int8_t <a class="code" href="classEasySMU.html#a7b9c0462a1d2b4036b470ae8177f7bd8">CommitCurrentSourceSetting</a>();</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">    //! Change the current source setting immediately.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">    //! The DAC that sets the output current is loaded with a code based on the scaled version of fCurrent and the output changes immediately.</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">    //! (Idac_pullup_code_ and Idac_pulldown_code_ are updated also. Note that other functions such as codeStepCurrentSourceSetting, etc. update the screen but do not actually change the output.)</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">    //! @return 0=success, 1=failure</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"></span>    int8_t <a class="code" href="classEasySMU.html#a9c9cb0b5faecfa8442268203ecbdd0a3">fltSetCommitCurrentSource</a>(<span class="keywordtype">float</span> fCurrent, <span class="comment">//&lt;! current in amps to be used as the current source/sink setting</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                     int8_t up_down_both <span class="comment">//!&lt; determines whether output sources current, sinks current, or both. Set to _SOURCE_ONLY, _SOURCE_AND_SINK, or _SINK_ONLY</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment"></span>                                    );</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">    //! Increase or decrease the current source setting by this value in amps. Updates the screen but does not actually change the output. This gives the user time to modify the value before it is driven at the output.</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">    //! @return none</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classEasySMU.html#a2da681a6699d9355476dfe1b0bf53856">fltStepCurrentSourceSetting</a>(<span class="keywordtype">float</span> fltStepSize <span class="comment">//!&lt; adjust the current source setting by this value in amps</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"></span>                                    );</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">    //! Read the current source setting</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">    //! @return current source setting in amps</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="classEasySMU.html#a4a78205a14c14620e94260e8bc78a7ab">fltReadCurrentSourceSetting</a>();</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">    //! Measure the voltage and current (with ADCs). Use other member functions to read the value.</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">    //! @return 0=success, 1=failure</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment"></span>    int8_t <a class="code" href="classEasySMU.html#adb89ad5b2563b819be81a1a4f9643457">MeasureVoltageCurrent</a>();</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">    //! Measure the voltage (with ADC).</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">    //! @return voltage in volts</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="classEasySMU.html#ae4a4afa6b34fcd347e8153b59ab67442">MeasureVoltage</a>();<span class="comment"></span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">    //! Measure the current (with ADC).</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">    //! @return current in amps</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="classEasySMU.html#afdae2a2ccf53460411d374f4e43472c2">MeasureCurrent</a>();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">    //! Measure the temperature of the voltage and current ADCs.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">    //! The results are stored in temperature_of_Iadc_code, temperature_of_Vadc_code, flt_temperature_of_Iadc_, and flt_TofVadc_</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">    //! @return none</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classEasySMU.html#ac891e6c66db8e9b68786a8955c49920a">MeasureTemperatureOfADCs</a>();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">    //! Measure the temperature of the voltage and current ADCs.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">    //! This will also update flt_temperature_of_Iadc_ and flt_temperature_of_Vadc_</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">    //! @return none</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classEasySMU.html#ac891e6c66db8e9b68786a8955c49920a">MeasureTemperatureOfADCs</a>(int32_t *temperature_of_Vadc_code, <span class="comment">//!&lt; returns the raw code of the voltage ADC temperature reading</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment"></span>                                  int32_t *temperature_of_Iadc_code  <span class="comment">//!&lt; returns the raw code of the current ADC temperature reading</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span>                                 );</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">    //! Enables the LT1970 output. Before this command is run, the output is high-impedance.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">    //! @return none</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classEasySMU.html#a424419a2cb111690ce617ea641914848">EnableOutput</a>();</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">    //! Disables the LT1970 output. After this command is run, the output is relatively high-impedance.</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">    //! Note that in this state the output is pulled to 2.76V with a roughly 50kohm impedance.</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">    //! @return none</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classEasySMU.html#ade89dcfef0d8b5e44bf8f80c1595b36d">DisableOutput</a>();</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">    //! EasySMU constructor. Remember each EasySMU instance has unique I2C addresses, so this configures each I2C address of this instance.</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"></span>    <a class="code" href="classEasySMU.html#a8cc6088773ffff22658eca04fe9bc92a">EasySMU</a>(uint8_t EEPROM_I2C_address_param,   <span class="comment">//!&lt; The EasySMU EEPROM I2C address</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"></span>            uint8_t DAC_I2C_address_param,      <span class="comment">//!&lt; The LTC2655 four-channel DAC I2C address. This configures the voltage and current settings.</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"></span>            uint8_t ADC_Vsense_I2C_address_param, <span class="comment">//!&lt; The I2C address of the voltage ADC</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"></span>            uint8_t ADC_Isense_I2C_address_param  <span class="comment">//!&lt; The I2C address of the current ADC</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"></span>           );</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">    //! Union that defines the calibration data stored in the EasySMU EEPROM</span></div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="unionEasySMU_1_1eeprom__data__union.html">  290</a></span>&#160;<span class="comment"></span>    <span class="keyword">union </span><a class="code" href="unionEasySMU_1_1eeprom__data__union.html">eeprom_data_union</a></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    {<span class="comment"></span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">      //! This struct holds all of the calibration data, i.e. offset integers, LSB floats, etc. The eeprom_data_union contains a byte_array that is used to write and read this data to/from the EEPROM.</span></div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html">  294</a></span>&#160;<span class="comment"></span>      <span class="keyword">struct </span><a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html">data_struct_type</a></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      {</div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#ab9219f5c930b38080b238f2ddef093b5">  296</a></span>&#160;        int16_t <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#ab9219f5c930b38080b238f2ddef093b5">cal_key</a>; <span class="comment">//!&lt; If this is set to the proper value, it indicates that a calibration has been performed. (If not, this EasySMU has never been calibrated.)</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"></span>        <span class="comment">//Consider changing voltage_source_offset to uint16_t. Make sure it is not cast to (int16_t) elsewhere.</span></div><div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#af23c99821219b90667fd4587b5d8d941">  298</a></span>&#160;        int16_t <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#af23c99821219b90667fd4587b5d8d941">voltage_source_offset</a>; <span class="comment">//!&lt; The output voltage is 0V when this code is stored in the voltage channel of the DAC</span></div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#aaf96648440c5b9d74b701f507bbe551b">  299</a></span>&#160;<span class="comment"></span>        <span class="keywordtype">float</span> <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#aaf96648440c5b9d74b701f507bbe551b">voltage_source_LSB</a>; <span class="comment">//!&lt; the voltage of one LSB in volts (from the voltage channel of the DAC)</span></div><div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a2014f0df34bfa1815337a4061ff65e47">  300</a></span>&#160;<span class="comment"></span>        int16_t <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a2014f0df34bfa1815337a4061ff65e47">current_source_pullup_offset</a>; <span class="comment">//!&lt; current DAC code that ideally would result in 0A at output, if the output current could be configured below 0.5mA</span></div><div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#ac9e0995c85193bf81266654f449d5d35">  301</a></span>&#160;<span class="comment"></span>        <span class="keywordtype">float</span> <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#ac9e0995c85193bf81266654f449d5d35">current_source_pullup_LSB</a>; <span class="comment">//!&lt; the current of one LSB in amps from the current pullup DAC channel</span></div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a7b9bc2f59762f29066b1aa4eae256eaa">  302</a></span>&#160;<span class="comment"></span>        int16_t <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a7b9bc2f59762f29066b1aa4eae256eaa">current_source_pulldown_offset</a>; <span class="comment">//!&lt; current DAC code that ideally would result in 0A at output, if the output current could be configured below 0.5mA</span></div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a27e0a6e90d1990eff481f636be6dc453">  303</a></span>&#160;<span class="comment"></span>        <span class="keywordtype">float</span> <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a27e0a6e90d1990eff481f636be6dc453">current_source_pulldown_LSB</a>; <span class="comment">//!&lt; the current of one LSB in amps from the current pulldown DAC channel</span></div><div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a5668127e5f317e743e9c4f4bec2eebe3">  304</a></span>&#160;<span class="comment"></span>        int32_t <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a5668127e5f317e743e9c4f4bec2eebe3">voltage_measure_offset</a>; <span class="comment">//!&lt; the voltage ADC code that corresponds to 0V at the output</span></div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a099e4f9b1b9808b8d0016d86aa09cd9e">  305</a></span>&#160;<span class="comment"></span>        <span class="keywordtype">float</span> <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a099e4f9b1b9808b8d0016d86aa09cd9e">voltage_measure_LSB</a>; <span class="comment">//!&lt; the voltage of one LSB in volts from the voltage ADC</span></div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#aa143016f3092390cb81b7f53f30b3cb4">  306</a></span>&#160;<span class="comment"></span>        <span class="keywordtype">float</span> <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#aa143016f3092390cb81b7f53f30b3cb4">current_measure_LSB</a>; <span class="comment">//!&lt; the current of one LSB in amps from the current ADC</span></div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#ac460df070f6f530dfca9bbf16c9a1cf6">  307</a></span>&#160;<span class="comment"></span>        <span class="keywordtype">float</span> <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#ac460df070f6f530dfca9bbf16c9a1cf6">current_measure_output_resistance</a>; <span class="comment">//!&lt; This value is used to modify the output current measurement result based on output voltage. This compensates for the current that flows through the feedback network, etc.</span></div><div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a3cc11378e670781aab182c2974f141f5">  308</a></span>&#160;<span class="comment"></span>        int32_t <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a3cc11378e670781aab182c2974f141f5">current_measure_offset</a>; <span class="comment">//!&lt; the code from the current ADC that corresponds to 0A at the output</span></div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a7c37e4ef91e9d58c301f5386a1e2a13c">  309</a></span>&#160;<span class="comment"></span>        int32_t <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a7c37e4ef91e9d58c301f5386a1e2a13c">temperature_Vadc_code</a>; <span class="comment">//!&lt; This is the temperature code read from the voltage ADC during calibration. (It is probably 25C, but an actual measurement/calibration is not performed.)</span></div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a7af1ab130e5db382b755602604321b36">  310</a></span>&#160;<span class="comment"></span>        int32_t <a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a7af1ab130e5db382b755602604321b36">temperature_Iadc_code</a>; <span class="comment">//!&lt; This is the temperature code read from the current ADC during calibration. (It is probably 25C, but an actual measurement/calibration is not performed.)</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      } <a class="code" href="unionEasySMU_1_1eeprom__data__union.html#a54fff7b020d417711354128ec35b1c92">calibration</a>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="unionEasySMU_1_1eeprom__data__union.html#a285b207c0a727e2c593c6b779b0e1bdf">  314</a></span>&#160;      <span class="keywordtype">char</span> <a class="code" href="unionEasySMU_1_1eeprom__data__union.html#a285b207c0a727e2c593c6b779b0e1bdf">byte_array</a>[<span class="keyword">sizeof</span>(<a class="code" href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html">data_struct_type</a>)];</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    } <a class="code" href="classEasySMU.html#a0086c137c03d635e3f6541a90e24d5dc">eeprom</a>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;};</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">/*!REVISION HISTORY</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">$Revision: 4430 $</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">$Date: 2015-11-30 11:42:19 -0800 (Mon, 30 Nov 2015) $</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">Copyright (c) 2013, Linear Technology Corp.(LTC)</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">All rights reserved.</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">Redistribution and use in source and binary forms, with or without</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">modification, are permitted provided that the following conditions are met:</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">1. Redistributions of source code must retain the above copyright notice, this</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">list of conditions and the following disclaimer.</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">2. Redistributions in binary form must reproduce the above copyright notice,</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">this list of conditions and the following disclaimer in the documentation</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">and/or other materials provided with the distribution.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">The views and conclusions contained in the software and documentation are those</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">of the authors and should not be interpreted as representing official policies,</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">either expressed or implied, of Linear Technology Corp.</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">The Linear Technology Linduino is not affiliated with the official Arduino team.</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">However, the Linduino is only possible because of the Arduino team&#39;s commitment</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">to the open-source community.  Please, visit http://www.arduino.cc and</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">http://store.arduino.cc , and consider a purchase that will help fund their</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">ongoing work.</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_ac9e0995c85193bf81266654f449d5d35"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#ac9e0995c85193bf81266654f449d5d35">EasySMU::eeprom_data_union::data_struct_type::current_source_pullup_LSB</a></div><div class="ttdeci">float current_source_pullup_LSB</div><div class="ttdoc">the current of one LSB in amps from the current pullup DAC channel </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00301">EasySMU.h:301</a></div></div>
<div class="ttc" id="classEasySMU_html_afdae2a2ccf53460411d374f4e43472c2"><div class="ttname"><a href="classEasySMU.html#afdae2a2ccf53460411d374f4e43472c2">EasySMU::MeasureCurrent</a></div><div class="ttdeci">float MeasureCurrent()</div><div class="ttdoc">Measure the current (with ADC). </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00288">EasySMU.cpp:288</a></div></div>
<div class="ttc" id="classEasySMU_html_ae4a4afa6b34fcd347e8153b59ab67442"><div class="ttname"><a href="classEasySMU.html#ae4a4afa6b34fcd347e8153b59ab67442">EasySMU::MeasureVoltage</a></div><div class="ttdeci">float MeasureVoltage()</div><div class="ttdoc">Measure the voltage (with ADC). </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00298">EasySMU.cpp:298</a></div></div>
<div class="ttc" id="LTC2655_8h_html"><div class="ttname"><a href="LTC2655_8h.html">LTC2655.h</a></div><div class="ttdoc">LTC2655: Quad I2C 16-/12-Bit Rail-to-Rail DACs with 10ppm/C Max Reference. </div></div>
<div class="ttc" id="classEasySMU_html_a123474465ade261722c3173c1e0335de"><div class="ttname"><a href="classEasySMU.html#a123474465ade261722c3173c1e0335de">EasySMU::DAC_I2C_address_</a></div><div class="ttdeci">uint8_t DAC_I2C_address_</div><div class="ttdoc">I2C address of LTC2655 used to control voltage and current settings. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00138">EasySMU.h:138</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_a3cc11378e670781aab182c2974f141f5"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a3cc11378e670781aab182c2974f141f5">EasySMU::eeprom_data_union::data_struct_type::current_measure_offset</a></div><div class="ttdeci">int32_t current_measure_offset</div><div class="ttdoc">the code from the current ADC that corresponds to 0A at the output </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00308">EasySMU.h:308</a></div></div>
<div class="ttc" id="classEasySMU_html"><div class="ttname"><a href="classEasySMU.html">EasySMU</a></div><div class="ttdoc">The EasySMU class contains functions for interacting with the EasySMU source measurement unit...</div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00130">EasySMU.h:130</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html">EasySMU::eeprom_data_union::data_struct_type</a></div><div class="ttdoc">This struct holds all of the calibration data, i.e. offset integers, LSB floats, etc. The eeprom_data_union contains a byte_array that is used to write and read this data to/from the EEPROM. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00294">EasySMU.h:294</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_aaf96648440c5b9d74b701f507bbe551b"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#aaf96648440c5b9d74b701f507bbe551b">EasySMU::eeprom_data_union::data_struct_type::voltage_source_LSB</a></div><div class="ttdeci">float voltage_source_LSB</div><div class="ttdoc">the voltage of one LSB in volts (from the voltage channel of the DAC) </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00299">EasySMU.h:299</a></div></div>
<div class="ttc" id="classEasySMU_html_ad57ea2e2e1a6f771af977d7188d960ba"><div class="ttname"><a href="classEasySMU.html#ad57ea2e2e1a6f771af977d7188d960ba">EasySMU::codeStepVoltageSourceSetting</a></div><div class="ttdeci">void codeStepVoltageSourceSetting(int16_t stepSize)</div><div class="ttdoc">Increase or decrease the voltage source setting. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00106">EasySMU.cpp:106</a></div></div>
<div class="ttc" id="LTC2485_8h_html"><div class="ttname"><a href="LTC2485_8h.html">LTC2485.h</a></div><div class="ttdoc">LTC2485: 24-Bit Delta Sigma ADC with Easy Drive Input Current Cancellation and I2C Interface...</div></div>
<div class="ttc" id="classEasySMU_html_a2da681a6699d9355476dfe1b0bf53856"><div class="ttname"><a href="classEasySMU.html#a2da681a6699d9355476dfe1b0bf53856">EasySMU::fltStepCurrentSourceSetting</a></div><div class="ttdeci">void fltStepCurrentSourceSetting(float fltStepSize)</div><div class="ttdoc">Increase or decrease the current source setting by this value in amps. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00186">EasySMU.cpp:186</a></div></div>
<div class="ttc" id="classEasySMU_html_a2b2a889a0be35d5c75b8f45bd9bfca4e"><div class="ttname"><a href="classEasySMU.html#a2b2a889a0be35d5c75b8f45bd9bfca4e">EasySMU::WriteCalibration</a></div><div class="ttdeci">int16_t WriteCalibration()</div><div class="ttdoc">Write calibration to EEPROM. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00582">EasySMU.cpp:582</a></div></div>
<div class="ttc" id="classEasySMU_html_a06adb1cc4cff8d6eccdec1a176ef6347"><div class="ttname"><a href="classEasySMU.html#a06adb1cc4cff8d6eccdec1a176ef6347">EasySMU::flt_measured_current_</a></div><div class="ttdeci">float flt_measured_current_</div><div class="ttdoc">measured current (in amps) </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00145">EasySMU.h:145</a></div></div>
<div class="ttc" id="classEasySMU_html_adb89ad5b2563b819be81a1a4f9643457"><div class="ttname"><a href="classEasySMU.html#adb89ad5b2563b819be81a1a4f9643457">EasySMU::MeasureVoltageCurrent</a></div><div class="ttdeci">int8_t MeasureVoltageCurrent()</div><div class="ttdoc">Measure the voltage and current (with ADCs). </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00247">EasySMU.cpp:247</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_ac460df070f6f530dfca9bbf16c9a1cf6"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#ac460df070f6f530dfca9bbf16c9a1cf6">EasySMU::eeprom_data_union::data_struct_type::current_measure_output_resistance</a></div><div class="ttdeci">float current_measure_output_resistance</div><div class="ttdoc">This value is used to modify the output current measurement result based on output voltage...</div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00307">EasySMU.h:307</a></div></div>
<div class="ttc" id="classEasySMU_html_ad94717730c6d000ef90a6c784a863736"><div class="ttname"><a href="classEasySMU.html#ad94717730c6d000ef90a6c784a863736">EasySMU::IsPresent</a></div><div class="ttdeci">int16_t IsPresent()</div><div class="ttdoc">Check if this EasySMU is present. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00653">EasySMU.cpp:653</a></div></div>
<div class="ttc" id="classEasySMU_html_aba54f3edbb9c989804b62e9ebed04871"><div class="ttname"><a href="classEasySMU.html#aba54f3edbb9c989804b62e9ebed04871">EasySMU::codeSetCommitVoltageSource</a></div><div class="ttdeci">int8_t codeSetCommitVoltageSource(int32_t lngVoltageSetParam)</div><div class="ttdoc">Set and commit the voltage source setting immediately. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00088">EasySMU.cpp:88</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_a7b9bc2f59762f29066b1aa4eae256eaa"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a7b9bc2f59762f29066b1aa4eae256eaa">EasySMU::eeprom_data_union::data_struct_type::current_source_pulldown_offset</a></div><div class="ttdeci">int16_t current_source_pulldown_offset</div><div class="ttdoc">current DAC code that ideally would result in 0A at output, if the output current could be configured...</div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00302">EasySMU.h:302</a></div></div>
<div class="ttc" id="classEasySMU_html_af82ff1cb799ca79745f6f0fb4d207720"><div class="ttname"><a href="classEasySMU.html#af82ff1cb799ca79745f6f0fb4d207720">EasySMU::fltSetCommitVoltageSource</a></div><div class="ttdeci">int8_t fltSetCommitVoltageSource(float fVoltage)</div><div class="ttdoc">Commit the voltage source setting immediately to this float value. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00113">EasySMU.cpp:113</a></div></div>
<div class="ttc" id="classEasySMU_html_aa1140809e4c13f9b73116fc92dd7d8f2"><div class="ttname"><a href="classEasySMU.html#aa1140809e4c13f9b73116fc92dd7d8f2">EasySMU::ReadCalibration</a></div><div class="ttdeci">int16_t ReadCalibration()</div><div class="ttdoc">Read calibration from EEPROM. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00555">EasySMU.cpp:555</a></div></div>
<div class="ttc" id="classEasySMU_html_a838df41e4ffc062cce7b09613e7f6b88"><div class="ttname"><a href="classEasySMU.html#a838df41e4ffc062cce7b09613e7f6b88">EasySMU::ADC_Vsense_I2C_address_</a></div><div class="ttdeci">uint8_t ADC_Vsense_I2C_address_</div><div class="ttdoc">I2C address of LTC2485 used to measure output voltage. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00139">EasySMU.h:139</a></div></div>
<div class="ttc" id="classEasySMU_html_a4a78205a14c14620e94260e8bc78a7ab"><div class="ttname"><a href="classEasySMU.html#a4a78205a14c14620e94260e8bc78a7ab">EasySMU::fltReadCurrentSourceSetting</a></div><div class="ttdeci">float fltReadCurrentSourceSetting()</div><div class="ttdoc">Read the current source setting. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00240">EasySMU.cpp:240</a></div></div>
<div class="ttc" id="classEasySMU_html_aefd871c3744230f3537d34dfd6955584"><div class="ttname"><a href="classEasySMU.html#aefd871c3744230f3537d34dfd6955584">EasySMU::float_current_source_setting_</a></div><div class="ttdeci">float float_current_source_setting_</div><div class="ttdoc">Current source setting. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00151">EasySMU.h:151</a></div></div>
<div class="ttc" id="classEasySMU_html_a0086c137c03d635e3f6541a90e24d5dc"><div class="ttname"><a href="classEasySMU.html#a0086c137c03d635e3f6541a90e24d5dc">EasySMU::eeprom</a></div><div class="ttdeci">union EasySMU::eeprom_data_union eeprom</div></div>
<div class="ttc" id="classEasySMU_html_ad035228f18abbef36257cecae4b2e39a"><div class="ttname"><a href="classEasySMU.html#ad035228f18abbef36257cecae4b2e39a">EasySMU::Iadc_code_</a></div><div class="ttdeci">int32_t Iadc_code_</div><div class="ttdoc">raw code of current ADC </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00142">EasySMU.h:142</a></div></div>
<div class="ttc" id="classEasySMU_html_a7d1157b764cda7875ffeed03fce47630"><div class="ttname"><a href="classEasySMU.html#a7d1157b764cda7875ffeed03fce47630">EasySMU::SetCalibration</a></div><div class="ttdeci">int8_t SetCalibration()</div><div class="ttdoc">Perform calibration. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00361">EasySMU.cpp:361</a></div></div>
<div class="ttc" id="QuikEval__EEPROM_8h_html"><div class="ttname"><a href="QuikEval__EEPROM_8h.html">QuikEval_EEPROM.h</a></div><div class="ttdoc">QuikEval EEPROM Library. </div></div>
<div class="ttc" id="classEasySMU_html_ade89dcfef0d8b5e44bf8f80c1595b36d"><div class="ttname"><a href="classEasySMU.html#ade89dcfef0d8b5e44bf8f80c1595b36d">EasySMU::DisableOutput</a></div><div class="ttdeci">void DisableOutput()</div><div class="ttdoc">Disables the LT1970 output. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00312">EasySMU.cpp:312</a></div></div>
<div class="ttc" id="classEasySMU_html_a8cc6088773ffff22658eca04fe9bc92a"><div class="ttname"><a href="classEasySMU.html#a8cc6088773ffff22658eca04fe9bc92a">EasySMU::EasySMU</a></div><div class="ttdeci">EasySMU(uint8_t EEPROM_I2C_address_param, uint8_t DAC_I2C_address_param, uint8_t ADC_Vsense_I2C_address_param, uint8_t ADC_Isense_I2C_address_param)</div><div class="ttdoc">EasySMU constructor. Remember each EasySMU instance has unique I2C addresses, so this configures each...</div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00070">EasySMU.cpp:70</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_a099e4f9b1b9808b8d0016d86aa09cd9e"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a099e4f9b1b9808b8d0016d86aa09cd9e">EasySMU::eeprom_data_union::data_struct_type::voltage_measure_LSB</a></div><div class="ttdeci">float voltage_measure_LSB</div><div class="ttdoc">the voltage of one LSB in volts from the voltage ADC </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00305">EasySMU.h:305</a></div></div>
<div class="ttc" id="classEasySMU_html_a6fdb949fc00e8b85d21faeee9a3b2097"><div class="ttname"><a href="classEasySMU.html#a6fdb949fc00e8b85d21faeee9a3b2097">EasySMU::flt_measured_voltage_</a></div><div class="ttdeci">float flt_measured_voltage_</div><div class="ttdoc">measured voltage (in volts) </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00145">EasySMU.h:145</a></div></div>
<div class="ttc" id="classEasySMU_html_a6f219b99d0041afc07a8f6a646b94df1"><div class="ttname"><a href="classEasySMU.html#a6f219b99d0041afc07a8f6a646b94df1">EasySMU::fltReadVoltageSourceSetting</a></div><div class="ttdeci">float fltReadVoltageSourceSetting()</div><div class="ttdoc">Read the voltage source setting. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00120">EasySMU.cpp:120</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_aa143016f3092390cb81b7f53f30b3cb4"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#aa143016f3092390cb81b7f53f30b3cb4">EasySMU::eeprom_data_union::data_struct_type::current_measure_LSB</a></div><div class="ttdeci">float current_measure_LSB</div><div class="ttdoc">the current of one LSB in amps from the current ADC </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00306">EasySMU.h:306</a></div></div>
<div class="ttc" id="classEasySMU_html_a0e362e99c8d686ae2bd0b93bb86c88c2"><div class="ttname"><a href="classEasySMU.html#a0e362e99c8d686ae2bd0b93bb86c88c2">EasySMU::ResetCalibration</a></div><div class="ttdeci">void ResetCalibration()</div><div class="ttdoc">Reset the calibration to a typical value. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00318">EasySMU.cpp:318</a></div></div>
<div class="ttc" id="classEasySMU_html_ae85572a552064773e5a4e394c5686201"><div class="ttname"><a href="classEasySMU.html#ae85572a552064773e5a4e394c5686201">EasySMU::SetCalibrationSinglePoint</a></div><div class="ttdeci">int8_t SetCalibrationSinglePoint(uint16_t voltageSetValue, uint16_t currentSetValue, const char prompt[], float *fltUserOutput, int32_t *lngVadc_code, int32_t *lngIadc_code)</div><div class="ttdoc">Configure a voltage and current setting and prompt for measurement from lab-grade multimeter...</div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00339">EasySMU.cpp:339</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_ab9219f5c930b38080b238f2ddef093b5"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#ab9219f5c930b38080b238f2ddef093b5">EasySMU::eeprom_data_union::data_struct_type::cal_key</a></div><div class="ttdeci">int16_t cal_key</div><div class="ttdoc">If this is set to the proper value, it indicates that a calibration has been performed. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00296">EasySMU.h:296</a></div></div>
<div class="ttc" id="classEasySMU_html_a7f902cbe6e60b61b3168f4369677f261"><div class="ttname"><a href="classEasySMU.html#a7f902cbe6e60b61b3168f4369677f261">EasySMU::WriteFactoryCalibration</a></div><div class="ttdeci">int16_t WriteFactoryCalibration()</div><div class="ttdoc">FOR FACTORY USE ONLY! Write calibration to factory calibration section of EEPROM. ...</div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00590">EasySMU.cpp:590</a></div></div>
<div class="ttc" id="classEasySMU_html_ace02ee6db1a4b59bb503226b3cdf8006"><div class="ttname"><a href="classEasySMU.html#ace02ee6db1a4b59bb503226b3cdf8006">EasySMU::flt_temperature_of_Iadc_</a></div><div class="ttdeci">float flt_temperature_of_Iadc_</div><div class="ttdoc">current output setting (float) </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00148">EasySMU.h:148</a></div></div>
<div class="ttc" id="classEasySMU_html_ac891e6c66db8e9b68786a8955c49920a"><div class="ttname"><a href="classEasySMU.html#ac891e6c66db8e9b68786a8955c49920a">EasySMU::MeasureTemperatureOfADCs</a></div><div class="ttdeci">void MeasureTemperatureOfADCs()</div><div class="ttdoc">Measure the temperature of the voltage and current ADCs. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00259">EasySMU.cpp:259</a></div></div>
<div class="ttc" id="classEasySMU_html_a0f3a77adb8e03d646a78992beeb3cbf9"><div class="ttname"><a href="classEasySMU.html#a0f3a77adb8e03d646a78992beeb3cbf9">EasySMU::RestoreFactoryCalibration</a></div><div class="ttdeci">uint8_t RestoreFactoryCalibration()</div><div class="ttdoc">Restore factory calibration from the EEPROM. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00629">EasySMU.cpp:629</a></div></div>
<div class="ttc" id="classEasySMU_html_a3ab3aa0df93465a8d36e7d9c2bf17eb1"><div class="ttname"><a href="classEasySMU.html#a3ab3aa0df93465a8d36e7d9c2bf17eb1">EasySMU::CommitVoltageSourceSetting</a></div><div class="ttdeci">int8_t CommitVoltageSourceSetting()</div><div class="ttdoc">Commit the voltage source setting. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00079">EasySMU.cpp:79</a></div></div>
<div class="ttc" id="classEasySMU_html_a424419a2cb111690ce617ea641914848"><div class="ttname"><a href="classEasySMU.html#a424419a2cb111690ce617ea641914848">EasySMU::EnableOutput</a></div><div class="ttdeci">void EnableOutput()</div><div class="ttdoc">Enables the LT1970 output. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00307">EasySMU.cpp:307</a></div></div>
<div class="ttc" id="classEasySMU_html_ad7b575834643715b7876c9624b6b1795"><div class="ttname"><a href="classEasySMU.html#ad7b575834643715b7876c9624b6b1795">EasySMU::EasySMU_EEPROM_I2C_address_</a></div><div class="ttdeci">uint8_t EasySMU_EEPROM_I2C_address_</div><div class="ttdoc">I2C address of the EEPROM that stores calibration data. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00137">EasySMU.h:137</a></div></div>
<div class="ttc" id="classEasySMU_html_a85e94ebdc2aa414deeb106237ddc1e1c"><div class="ttname"><a href="classEasySMU.html#a85e94ebdc2aa414deeb106237ddc1e1c">EasySMU::PrintFactoryCalibrationInfo</a></div><div class="ttdeci">int16_t PrintFactoryCalibrationInfo()</div><div class="ttdoc">Prints the factory calibration info from EEPROM to the serial port. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00598">EasySMU.cpp:598</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_a5668127e5f317e743e9c4f4bec2eebe3"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a5668127e5f317e743e9c4f4bec2eebe3">EasySMU::eeprom_data_union::data_struct_type::voltage_measure_offset</a></div><div class="ttdeci">int32_t voltage_measure_offset</div><div class="ttdoc">the voltage ADC code that corresponds to 0V at the output </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00304">EasySMU.h:304</a></div></div>
<div class="ttc" id="DC934A_8ino_html_ad84e19307a43d3f799a4daeef0a6484a"><div class="ttname"><a href="DC934A_8ino.html#ad84e19307a43d3f799a4daeef0a6484a">prompt</a></div><div class="ttdeci">prompt</div><div class="ttdoc">Used to keep track to print voltage or print code. </div><div class="ttdef"><b>Definition:</b> <a href="DC934A_8ino_source.html#l00107">DC934A.ino:107</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_a7c37e4ef91e9d58c301f5386a1e2a13c"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a7c37e4ef91e9d58c301f5386a1e2a13c">EasySMU::eeprom_data_union::data_struct_type::temperature_Vadc_code</a></div><div class="ttdeci">int32_t temperature_Vadc_code</div><div class="ttdoc">This is the temperature code read from the voltage ADC during calibration. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00309">EasySMU.h:309</a></div></div>
<div class="ttc" id="classEasySMU_html_a077df24bb9ed54fd910dc91022837515"><div class="ttname"><a href="classEasySMU.html#a077df24bb9ed54fd910dc91022837515">EasySMU::present_</a></div><div class="ttdeci">int8_t present_</div><div class="ttdoc">Indicates if this channel is present. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00136">EasySMU.h:136</a></div></div>
<div class="ttc" id="unionEasySMU_1_1eeprom__data__union_html"><div class="ttname"><a href="unionEasySMU_1_1eeprom__data__union.html">EasySMU::eeprom_data_union</a></div><div class="ttdoc">Union that defines the calibration data stored in the EasySMU EEPROM. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00290">EasySMU.h:290</a></div></div>
<div class="ttc" id="classEasySMU_html_a7c88f342d0577ace3761bacac8a9da9f"><div class="ttname"><a href="classEasySMU.html#a7c88f342d0577ace3761bacac8a9da9f">EasySMU::Idac_pulldown_code_</a></div><div class="ttdeci">uint16_t Idac_pulldown_code_</div><div class="ttdoc">raw code of current pulldown DAC </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00153">EasySMU.h:153</a></div></div>
<div class="ttc" id="classEasySMU_html_a98d98afaebd73cd627ac27ef37a2cbeb"><div class="ttname"><a href="classEasySMU.html#a98d98afaebd73cd627ac27ef37a2cbeb">EasySMU::flt_temperature_of_Vadc_</a></div><div class="ttdeci">float flt_temperature_of_Vadc_</div><div class="ttdoc">Temperature of voltage ADC. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00148">EasySMU.h:148</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_a7af1ab130e5db382b755602604321b36"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a7af1ab130e5db382b755602604321b36">EasySMU::eeprom_data_union::data_struct_type::temperature_Iadc_code</a></div><div class="ttdeci">int32_t temperature_Iadc_code</div><div class="ttdoc">This is the temperature code read from the current ADC during calibration. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00310">EasySMU.h:310</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_af23c99821219b90667fd4587b5d8d941"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#af23c99821219b90667fd4587b5d8d941">EasySMU::eeprom_data_union::data_struct_type::voltage_source_offset</a></div><div class="ttdeci">int16_t voltage_source_offset</div><div class="ttdoc">The output voltage is 0V when this code is stored in the voltage channel of the DAC. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00298">EasySMU.h:298</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_a2014f0df34bfa1815337a4061ff65e47"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a2014f0df34bfa1815337a4061ff65e47">EasySMU::eeprom_data_union::data_struct_type::current_source_pullup_offset</a></div><div class="ttdeci">int16_t current_source_pullup_offset</div><div class="ttdoc">current DAC code that ideally would result in 0A at output, if the output current could be configured...</div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00300">EasySMU.h:300</a></div></div>
<div class="ttc" id="classEasySMU_html_a7b9c0462a1d2b4036b470ae8177f7bd8"><div class="ttname"><a href="classEasySMU.html#a7b9c0462a1d2b4036b470ae8177f7bd8">EasySMU::CommitCurrentSourceSetting</a></div><div class="ttdeci">int8_t CommitCurrentSourceSetting()</div><div class="ttdoc">Commit the current source setting. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00126">EasySMU.cpp:126</a></div></div>
<div class="ttc" id="classEasySMU_html_a742fb1acc6d6572bd06c4b458712df34"><div class="ttname"><a href="classEasySMU.html#a742fb1acc6d6572bd06c4b458712df34">EasySMU::Idac_pullup_code_</a></div><div class="ttdeci">uint16_t Idac_pullup_code_</div><div class="ttdoc">raw code of current pullup DAC </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00153">EasySMU.h:153</a></div></div>
<div class="ttc" id="unionEasySMU_1_1eeprom__data__union_html_a54fff7b020d417711354128ec35b1c92"><div class="ttname"><a href="unionEasySMU_1_1eeprom__data__union.html#a54fff7b020d417711354128ec35b1c92">EasySMU::eeprom_data_union::calibration</a></div><div class="ttdeci">struct EasySMU::eeprom_data_union::data_struct_type calibration</div></div>
<div class="ttc" id="classEasySMU_html_aa551de05fb7c2eef569c2f6bdc01eb0a"><div class="ttname"><a href="classEasySMU.html#aa551de05fb7c2eef569c2f6bdc01eb0a">EasySMU::Vdac_code_</a></div><div class="ttdeci">uint16_t Vdac_code_</div><div class="ttdoc">raw code of voltage DAC </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00153">EasySMU.h:153</a></div></div>
<div class="ttc" id="classEasySMU_html_add5db29d8563ba3f4a2eaf6763bd9f8f"><div class="ttname"><a href="classEasySMU.html#add5db29d8563ba3f4a2eaf6763bd9f8f">EasySMU::ADC_Isense_I2C_address_</a></div><div class="ttdeci">uint8_t ADC_Isense_I2C_address_</div><div class="ttdoc">I2C address of LTC2485 used to measure output current. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00140">EasySMU.h:140</a></div></div>
<div class="ttc" id="classEasySMU_html_aac3b0d5f50cf8c10ba608409e3dd1347"><div class="ttname"><a href="classEasySMU.html#aac3b0d5f50cf8c10ba608409e3dd1347">EasySMU::Vadc_code_</a></div><div class="ttdeci">int32_t Vadc_code_</div><div class="ttdoc">raw code of voltage ADC </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00142">EasySMU.h:142</a></div></div>
<div class="ttc" id="classEasySMU_html_a9c9cb0b5faecfa8442268203ecbdd0a3"><div class="ttname"><a href="classEasySMU.html#a9c9cb0b5faecfa8442268203ecbdd0a3">EasySMU::fltSetCommitCurrentSource</a></div><div class="ttdeci">int8_t fltSetCommitCurrentSource(float fCurrent, int8_t up_down_both)</div><div class="ttdoc">Change the current source setting immediately. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00136">EasySMU.cpp:136</a></div></div>
<div class="ttc" id="structEasySMU_1_1eeprom__data__union_1_1data__struct__type_html_a27e0a6e90d1990eff481f636be6dc453"><div class="ttname"><a href="structEasySMU_1_1eeprom__data__union_1_1data__struct__type.html#a27e0a6e90d1990eff481f636be6dc453">EasySMU::eeprom_data_union::data_struct_type::current_source_pulldown_LSB</a></div><div class="ttdeci">float current_source_pulldown_LSB</div><div class="ttdoc">the current of one LSB in amps from the current pulldown DAC channel </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00303">EasySMU.h:303</a></div></div>
<div class="ttc" id="unionEasySMU_1_1eeprom__data__union_html_a285b207c0a727e2c593c6b779b0e1bdf"><div class="ttname"><a href="unionEasySMU_1_1eeprom__data__union.html#a285b207c0a727e2c593c6b779b0e1bdf">EasySMU::eeprom_data_union::byte_array</a></div><div class="ttdeci">char byte_array[sizeof(data_struct_type)]</div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8h_source.html#l00314">EasySMU.h:314</a></div></div>
<div class="ttc" id="classEasySMU_html_a48d390781050d9a207a566f24170d428"><div class="ttname"><a href="classEasySMU.html#a48d390781050d9a207a566f24170d428">EasySMU::WriteFactoryCalibrationInfo</a></div><div class="ttdeci">int16_t WriteFactoryCalibrationInfo(char *buffer)</div><div class="ttdoc">Write factory calibration info to EEPROM. </div><div class="ttdef"><b>Definition:</b> <a href="EasySMU_8cpp_source.html#l00614">EasySMU.cpp:614</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_6d7c69131093e5a3e769ca3a5033bab8.html">LTSketchbook</a></li><li class="navelem"><a class="el" href="dir_4ded6cceadd3552dee8306b38db609ba.html">libraries</a></li><li class="navelem"><a class="el" href="dir_dc2318baec27226873e03e816f2340c8.html">EasySMU</a></li><li class="navelem"><a class="el" href="EasySMU_8h.html">EasySMU.h</a></li>
    <li class="footer">Generated on Tue Oct 24 2017 15:31:52 for Linduino by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
